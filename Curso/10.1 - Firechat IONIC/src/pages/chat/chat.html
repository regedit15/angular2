<ion-header>
    <ion-navbar>
        <button
            ion-button
            menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>
            <table>
                <tr>
                    <td>FireChat</td>
                </tr>
            </table>
        </ion-title>
    </ion-navbar>
</ion-header>
<ion-content>

    <img
        src="assets/imgs/navidad.gif"
        alt=""
        style="position: fixed; right: 1px; margin-top: 6px;">

    <ion-card
        id="app-mensajes"
        style="max-width: 420px; margin-left: auto; margin-right: auto; overflow: scroll; margin-bottom: 0px; margin-top: 10px;"
        [style.max-height.px]="largo">
        <ion-card-content
            *ngFor="let chat of chatService.chats | async"
            [ngClass]="{'textoDerecha' : chatService.usuario?.uid === chat.uid}">

            <ion-badge
                item-end
                [ngClass]="{'colorDestinatario' : chatService.usuario?.uid !== chat.uid}">
                <div>{{chat.usuario}}</div>
                <div style="font-size: 8px; color: #e6e6e6;">{{chat.fecha | date:'MM/dd/yyyy hh:mm'}}</div>
            </ion-badge>
            <p>{{chat.mensaje}}</p>
            <img
                *ngIf="chat.urlImagen"
                src="{{chat.urlImagen}}"
                alt="">
        </ion-card-content>
    </ion-card>
    <br>
    <div
        id="app-mensajes"
        class="app-mensajes"></div>

</ion-content>

<ion-footer>
    <ion-toolbar>
        <table style="margin: auto; width: 100%; max-width: 420px;">
            <tr>
                <td style="width: 100%;padding-right: 10px;">

                    <ion-searchbar id="mensaje"
                                   placeholder="Escribe un mensaje"
                                   (keyup.enter)="enviar()"
                                   [(ngModel)]="mensaje"></ion-searchbar>

                <td style="display: flex;">
                    <button
                        (click)="getMedia()"
                        ion-button
                        class="bontonImagen"
                        round>
                        <ion-icon
                            name="md-image"></ion-icon>
                    </button>

                    <button
                        (click)="enviar()"
                        ion-button
                        class="bontonWpp"
                        round>
                        <ion-icon
                            name="md-send"
                            style="padding-left: 5px;"></ion-icon>
                    </button>
                </td>
            </tr>
        </table>
    </ion-toolbar>
</ion-footer>
